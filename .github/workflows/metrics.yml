name: Language Metrics

on:
  schedule:
    - cron: "0 0 * * *" # æ¯å¤©åˆå¤œæ›´æ–°
  workflow_dispatch:

jobs:
  github-metrics:
    runs-on: ubuntu-latest
    permissions:
      contents: write
    steps:
      - uses: lowlighter/metrics@latest
        with:
          # ä½¿ç”¨ GITHUB_TOKENï¼Œæ— éœ€æ‰‹åŠ¨è®¾ç½® secrets
          token: ${{ secrets.GITHUB_TOKEN }}
          
          # è¾“å‡ºæ–‡ä»¶åä¸º metrics.svg
          filename: dist/metrics.svg
          committer_branch: output-metrics # å°†å›¾ç‰‡ä¿å­˜åœ¨è¿™ä¸ªæ–°åˆ†æ”¯
          
          # åŸºç¡€é…ç½®
          user: dieWehmut
          template: classic
          base: "" # å…³é—­åŸºç¡€æ•°æ®ï¼Œæˆ‘ä»¬åªæƒ³è¦è¯­è¨€åˆ†æ
          config_timezone: Asia/Shanghai
          
          # ğŸ§© è¯­è¨€æ’ä»¶é…ç½® (è¿™æ˜¯é‡ç‚¹ï¼)
          plugin_languages: yes
          plugin_languages_ignored: html, css, tex, less, dockerfile, makefile, qmake, lex, cmake, shell, gnuplot # å¿½ç•¥éç¼–ç¨‹è¯­è¨€ï¼Œæé«˜å‡†ç¡®åº¦
          plugin_languages_limit: 8                 # æ˜¾ç¤ºå‰ 8 ç§è¯­è¨€
          plugin_languages_details: bytes-size, percentage # æ˜¾ç¤ºè¯¦ç»†å æ¯”æ•°æ®
          plugin_languages_colors: github           # ä½¿ç”¨ Github å®˜æ–¹é…è‰²
          plugin_languages_threshold: 0%            # æ˜¾ç¤ºæ‰€æœ‰æ¯”ä¾‹çš„è¯­è¨€
